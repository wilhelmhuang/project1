name: Test set env variables
on:
  workflow_dispatch:

jobs:
  job1:
    runs-on: ubuntu-latest
    steps:
      - name: Set the value on ubuntu
        id: step_one
        run: |
          echo "action_state=yellow" >> "$GITHUB_ENV"
      - name: Use the value on ubuntu
        id: step_two
        run: |
          printf '%s\n' "$action_state" # This will output 'yellow'

  job2:
    runs-on: windows-latest
    steps:
      - name: Set the value on windows
        id: step_one
        run: |
          echo "action_state_1=one" >> "GITHUB_ENV"
          echo "action_state_2=two" >> "GITHUB_ENV"
          echo "action_state_3=three" >> "$env:GITHUB_ENV"
          echo "action_state_4=four" >> "$env:GITHUB_ENV"
      - name: Use the value on windows
        id: step_two
        run: |
          printf '%s\n' "$action_state_1" 
          printf '%s\n' "$env:action_state_2" 
          printf '%s\n' "$action_state_3" 
          printf '%s\n' "$env:action_state_4" 
